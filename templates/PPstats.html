{% extends 'base.html' %}

{% block head %}
<title> Learn Flask </title>
{% endblock %}

{% block body %}
<div class="content">
    <h1 id="statsHeader">Special Teams Stats Per Game</h1> <br>
    {% if teams|length == 0 %}
    <p>No teams</p>
    {% else %}
        <table class="StatsTable" id="PPTable">
            <tr class="StatsHeader">
                <th><p><button onclick="sortPPTable('statsPPName')">Team Name</button></p></th>
                <th>
                    <a class="tooltips">
                    <button onclick="sortTable('StatsGP')">GP</button><span>Games played</span></a>
                </th>
                <th>
                    <a class="tooltips">
                    <p><button onclick="sortPPTable('statsPPG')">PPG</button><span>Power play goals</span></a>
                </th>
                <th>
                    <a class="tooltips">
                    <p><button onclick="sortPPTable('statsPP')">PPO</button><span>Power play opportunities</span></a>
                </th>
                <th>
                    <a class="tooltips">
                    <p><button onclick="sortPPTable('statsPPP')">PP %</button><span>Percent of power plays scored on</span></a>
                </th> 
                <th>
                    <a class="tooltips">
                    <p><button onclick="sortPPTable('statsSHG')">SHG</button><span>Short handed goals</span></a>
                </th>
                <th>
                    <a class="tooltips">
                    <p><button onclick="sortPPTable('statsSH')">SHO</button><span>Short handed opportunities</span></a>
                </th>
                <th>
                    <a class="tooltips">
                    <p><button onclick="sortPPTable('statsSHP')">SH %</button><span>Short handed goals per attempt</span></a>
                </th>
                <th>
                    <a class="tooltips">
                    <p><button onclick="sortPPTable('statsPPGA')">PPGA</button><span>Penalty kill goals against</span></a>
                </th>
                <th>
                    <a class="tooltips">
                    <p><button onclick="sortPPTable('statsPPA')">PPOA</button><span>Penalty kill opportunities</span></a>
                </th>
                <th>
                    <a class="tooltips">
                    <p><button onclick="sortPPTable('statsPPAP')">PK %</button><span>Percent goal against on penalty kill</span></a>
                </th>
            </tr>
            {% for team in teams %}
            <tr class="StatsData">
                <td class="statsPPName">{{ team.teamName }}</td>
                <td class="statsPPGP">{{ team.gamesPlayed|round }}</td>
                <td class="statsPPG">{{ ((team.PPG * 10)|round)/10 }}</td>
                <td class="statsPP">{{ ((team.PPO * 10)|round)/10 }}</td>
                <td class="statsPPP">{{ (((100 * team.PPG / (team.PPO)) * 10)|round) / 10}}%</td>
                <td class="statsSHG">{{ ((team.SHG * 10)|round)/10 }}</td>
                <td class="statsSH">{{ ((team.SHO * 10)|round)/10 }}</td>
                <td class="statsSHP">{{ (((100 * team.SHG / (team.SHO)) * 10)|round) / 10}}%</td>
                <td class="statsPPGA">{{ ((team.PPGA* 10)|round)/10 }}</td>
                <td class="statsPPA">{{ ((team.PPOA * 10)|round)/10 }}</td>
                <td class="statsPPAP">{{ 100 - (((100 * team.PPGA / (team.PPOA)) * 10)|round) / 10}}%</td>

            </tr>

            {% endfor %}
        </table>
        {% endif %}
        </div>
</div>
{% endblock %}
